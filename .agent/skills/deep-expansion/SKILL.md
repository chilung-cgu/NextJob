---
name: deep-expansion
description: 深度擴充學習文件時的品質標準。當需要擴充、改寫、或撰寫 NextJob 的任何 .md 檔案時，必須遵循此技能。
---

# 🎯 深度擴充技能 (Deep Expansion Skill)

> [!IMPORTANT]
> 當你擴充 NextJob 專案中的任何章節時，**必須遵守此文件的所有規則**。
> 這不是建議，而是硬性要求。

---

## 深度標準 (Depth Requirements)

### 行數目標
| 章節類型 | 最低行數 | 理想行數 |
| :--- | :--- | :--- |
| 核心概念章節 (如 Linux 核心、中斷處理) | 1500 行 | 2500+ 行 |
| 協定說明章節 (如 PLDM、Redfish) | 1200 行 | 2000+ 行 |
| 工具/語法章節 (如 C 語言基礎) | 1000 行 | 1500+ 行 |

### 內容結構 (每個主題必須包含)
```
1. Why - 為什麼需要這個？解決什麼問題？
2. What - 這是什麼？定義與概念
3. How - 如何實作？完整程式碼範例
4. Deep Dive - 底層原理、Kernel 原始碼節選、進階用法
5. 面試題 - 至少 3 題，含詳細解答
```

### 驗證檢查表 (每次完成後自檢)
- [ ] 這個內容能回答「中高難度面試題」嗎？
- [ ] 有沒有包含「實際程式碼範例」？
- [ ] 有沒有解釋「為什麼」而不只是「是什麼」？
- [ ] 面試官追問時，這個內容能撐住嗎？

---

## ⚠️ AI 衰減警告 (Token Limit Fatigue)

> [!CAUTION]
> **已知問題**：AI 在長對話中會「衰減」，導致：
> - 後面章節品質明顯低於前面
> - 行數不達標卻宣稱完成
> - 開始用「差不多就好」的心態
> 
> **強制對策**：
> 1. **每完成 2 個檔案**：重新讀取 SKILL.md 和 rebuild-content.md
> 2. **每個檔案完成後**：執行 `wc -l` 確認行數，未達標不可繼續
> 3. **衰減嚴重時**：主動告知使用者「需要新對話繼續」

---

## 禁止事項 (Don'ts)

❌ **不要**只寫概念定義就結束
❌ **不要**用「詳見官方文件」帶過
❌ **不要**省略程式碼範例
❌ **不要**寫不到目標行數就說「完成」
❌ **不要**只列出標題骨架
❌ **不要**越往後越敷衍（AI 衰減）

---

## 格式規範

### 程式碼
```c
// 每個程式碼區塊必須有：
// 1. 註解說明這段程式碼在做什麼
// 2. 關鍵行的行內註解
// 3. 如果是 Kernel 原始碼，標註來源版本

/* 範例：Linux Kernel spinlock 實作 (v6.6) */
static inline void spin_lock(spinlock_t *lock)
{
    raw_spin_lock(&lock->rlock);  // 呼叫架構相關的底層實作
}
```

### 表格
用於比較、對照、快速查閱：
| 概念 A | 概念 B | 差異 |
| :--- | :--- | :--- |
| ... | ... | ... |

### 流程圖
用 ASCII 或 Mermaid 繪製複雜流程：
```
Power On → Boot ROM → SPL → U-Boot → Kernel → Init
```

---

## 面試題庫格式

每個章節結尾的面試題必須遵循此格式：

```markdown
## 📝 面試題庫

### Q1: [問題標題]
**難度**：⭐⭐⭐ (1-5星)
**常見於**：NVIDIA / Google / 普遍

**問題**：
[完整問題描述]

**標準答案**：
[詳細解答，包含：]
- 核心觀念
- 程式碼範例（如適用）
- 面試官可能的追問
- 追問的答案

**延伸思考**：
[這個問題的變形或進階版本]
```

---

## 完成確認

當你完成一個章節的擴充後，必須報告：

```
## 章節完成報告
- 檔案：[檔案路徑]
- 擴充前行數：[X 行]
- 擴充後行數：[Y 行]
- 新增面試題數：[N 題]
- 自檢結果：[通過/需要補充的項目]
```
